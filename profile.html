<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ | Tribly</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #6ae44d;
            --primary-dark: #4bc72d;
            --secondary: #ffd166;
            --text-main: #2d3436;
            --text-light: #636e72;
            --bg-glass: rgba(255, 255, 255, 0.85);
            --glass-shadow: 0 15px 35px rgba(31, 38, 135, 0.1);
            --gradient-green: linear-gradient(135deg, #6ae44d 0%, #4bc72d 100%);
            --radius: 24px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: #f0f2f5;
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 30px 30px;
            min-height: 100vh;
            padding-bottom: 90px; /* Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- Navigation Styles --- */
        
        /* Desktop Nav (Top) */
        .desktop-nav {
            display: none; /* Hidden on mobile */
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 15px 40px;
            position: sticky; top: 0; z-index: 100;
            justify-content: space-between; align-items: center;
        }

        .logo-area { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 1.5rem; color: var(--text-main); }
        .logo-area i { color: var(--primary); }
        
        .nav-links { display: flex; gap: 30px; list-style: none; }
        .nav-links li a { text-decoration: none; color: var(--text-light); font-weight: 600; transition: 0.3s; }
        .nav-links li a:hover, .nav-links li a.active { color: var(--primary); }

        /* Mobile Nav (Bottom) */
        .mobile-nav {
            display: flex; /* Visible on mobile */
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; border-top: 1px solid #eee;
            padding: 12px 0; justify-content: space-around;
            z-index: 1000; box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
        }

        .nav-item { display: flex; flex-direction: column; align-items: center; color: #b2bec3; font-size: 0.75rem; gap: 4px; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.3rem; transition: 0.3s; }

        /* --- Layout Grid --- */
        .profile-grid {
            display: grid;
            grid-template-columns: 1fr; /* Mobile: Single Column */
            gap: 25px;
            align-items: start;
        }

        /* --- Profile Card --- */
        .profile-card {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.8);
            border-radius: var(--radius);
            padding: 40px 30px;
            text-align: center;
            box-shadow: var(--glass-shadow);
            position: relative;
            overflow: hidden;
        }

        .profile-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 140px;
            background: var(--gradient-green); opacity: 0.1; border-radius: 50% 50% 0 0;
        }

        .avatar-container { position: relative; width: 140px; height: 140px; margin: 0 auto 25px; z-index: 2; }
        .avatar { width: 100%; height: 100%; border-radius: 50%; border: 6px solid white; object-fit: cover; box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        
        .badge-vip {
            position: absolute; bottom: 5px; right: 5px;
            background: var(--secondary); width: 40px; height: 40px;
            border-radius: 50%; border: 4px solid white;
            display: flex; align-items: center; justify-content: center;
            font-size: 16px; color: #000; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .user-name { font-size: 2rem; font-weight: 800; color: var(--text-main); margin-bottom: 5px; }
        .user-handle { color: var(--text-light); font-size: 1rem; margin-bottom: 20px; font-family: 'Poppins', sans-serif; }
        
        .action-buttons { display: flex; justify-content: center; gap: 15px; margin-top: 25px; }
        .btn-action { padding: 12px 30px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; transition: 0.3s; font-family: inherit; }
        .btn-primary { background: var(--primary); color: #000; box-shadow: 0 5px 15px rgba(106, 228, 77, 0.4); }
        .btn-outline { background: white; color: var(--text-main); border: 2px solid #eee; }
        .btn-action:hover { transform: translateY(-2px); }

        /* --- Stats Grid --- */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-box { background: white; padding: 20px 10px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.03); transition: 0.3s; }
        .stat-box:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
        .stat-num { font-size: 1.5rem; font-weight: 800; color: var(--text-main); font-family: 'Poppins', sans-serif; display: block; }
        .stat-label { font-size: 0.85rem; color: var(--text-light); }

        /* --- Referral Card --- */
        .referral-card {
            background: linear-gradient(135deg, #2d3436, #000); color: white;
            border-radius: var(--radius); padding: 30px; position: relative; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .referral-card::after { content: 'ğŸ'; position: absolute; bottom: -10px; left: -10px; font-size: 8rem; opacity: 0.1; transform: rotate(-15deg); }
        .code-display { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; margin: 20px 0; font-family: 'Poppins', sans-serif; letter-spacing: 2px; font-weight: bold; cursor: pointer; }
        .btn-copy { background: white; color: black; border: none; padding: 15px; border-radius: 10px; font-weight: 700; cursor: pointer; width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.3s; }
        .btn-copy:hover { background: var(--primary); }

        /* --- Sidebar Menu (Settings) --- */
        .sidebar-card {
            background: white; border-radius: var(--radius); overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.03);
        }

        .menu-item {
            padding: 20px 25px; display: flex; align-items: center; justify-content: space-between;
            border-bottom: 1px solid #f5f5f5; cursor: pointer; transition: 0.2s; color: var(--text-main);
        }
        .menu-item:last-child { border-bottom: none; }
        .menu-item:hover { background: #f9f9f9; padding-right: 30px; }

        .menu-left { display: flex; align-items: center; gap: 15px; font-weight: 600; }
        .icon-box { width: 45px; height: 45px; background: #f0fdf4; color: var(--primary); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .red .icon-box { background: #ffe5e5; color: #ef476f; }

        /* --- Toast --- */
        .toast {
            position: fixed; bottom: 110px; left: 50%; transform: translateX(-50%) translateY(20px);
            background: #2d3436; color: white; padding: 15px 30px; border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); opacity: 0; pointer-events: none;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); z-index: 2000;
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        /* --- MEDIA QUERIES (The Magic) --- */
        @media (min-width: 992px) {
            body { padding-bottom: 20px; } /* Remove bottom padding for desktop */
            .mobile-nav { display: none; } /* Hide Bottom Nav */
            .desktop-nav { display: flex; } /* Show Top Nav */

            .profile-grid {
                grid-template-columns: 2.5fr 1fr; /* 2 Columns: Wide left, Narrow right */
            }
            
            .action-buttons { display: none; } /* Hide small buttons on card, use sidebar */
            .referral-card { margin-top: 0; }
            .stats-grid { margin-bottom: 0; }
        }

    </style>
</head>
<body>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
        <div class="logo-area">
            <i class="fas fa-shapes"></i>
            Tribly
        </div>
        <ul class="nav-links">
            <li><a href="#" class="active"><i class="fas fa-user"></i> Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></li>
            <li><a href="#"><i class="fas fa-users"></i> Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª</a></li>
            <li><a href="#"><i class="fas fa-comments"></i> Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</a></li>
        </ul>
    </nav>

    <div class="container">
        
        <div class="profile-grid">
            
            <!-- Left Column (Profile Content) -->
            <div class="main-content">
                <div class="profile-card">
                    <div class="avatar-container">
                        <img src="" alt="Profile" class="avatar" id="userAvatar">
                        <div class="badge-vip"><i class="fas fa-crown"></i></div>
                    </div>
                    
                    <h1 class="user-name" id="userName">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h1>
                    <p class="user-handle" id="userHandle">@user â€¢ Alexandria</p>
                    
                    <p style="color: #666; line-height: 1.6; max-width: 500px; margin: 0 auto;">
                        Ù…Ø­Ø¨ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ù…Ø¨Ø¯Ø¹ÙŠÙ†. Ø£Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø¨ÙŠÙ„ØªÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©! ğŸš€
                    </p>

                    <div class="action-buttons">
                        <button class="btn-action btn-primary">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„</button>
                        <button class="btn-action btn-outline">Ù…Ø´Ø§Ø±ÙƒØ©</button>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-num">125</span>
                        <span class="stat-label">Ø£ØµØ¯Ù‚Ø§Ø¡</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num">42</span>
                        <span class="stat-label">Ù…Ø¬ØªÙ…Ø¹Ø§Øª</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num" style="color:var(--primary)">8.5k</span>
                        <span class="stat-label">Ù†Ù‚Ø§Ø·</span>
                    </div>
                </div>

                <!-- Referral -->
                <div class="referral-card">
                    <h3 style="margin-bottom: 5px;">Ø¯Ø¹ÙˆØ© Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ</h3>
                    <p style="font-size:0.9rem; opacity:0.8;">
                        Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 500 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ØµØ¯ÙŠÙ‚ ÙŠÙ†Ø¶Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù…Ø² Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.
                    </p>
                    
                    <div class="code-display" onclick="copyCode()">
                        <span id="referralCode">TRIBLY-XXX</span>
                        <i class="far fa-copy"></i>
                    </div>
                    
                    <button class="btn-copy" onclick="copyCode()">
                        <i class="fas fa-share-alt"></i> Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø·
                    </button>
                </div>
            </div>

            <!-- Right Column (Sidebar / Settings) -->
            <div class="sidebar">
                <div class="sidebar-card">
                    <div class="menu-item">
                        <div class="menu-left">
                            <div class="icon-box"><i class="fas fa-user-edit"></i></div>
                            <span>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
                        </div>
                        <i class="fas fa-chevron-left" style="color:#ccc;"></i>
                    </div>

                    <div class="menu-item">
                        <div class="menu-left">
                            <div class="icon-box" style="background:#fff3cd; color:#ff9f1c"><i class="fas fa-star"></i></div>
                            <span>Ø§Ù„Ø§Ø´Ø¹Ø§Ø±Ø§Øª</span>
                        </div>
                        <i class="fas fa-chevron-left" style="color:#ccc;"></i>
                    </div>

                    <div class="menu-item">
                        <div class="menu-left">
                            <div class="icon-box" style="background:#e3f2fd; color:#0984e3"><i class="fas fa-shield-alt"></i></div>
                            <span>Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø£Ù…Ø§Ù†</span>
                        </div>
                        <i class="fas fa-chevron-left" style="color:#ccc;"></i>
                    </div>

                    <div class="menu-item">
                        <div class="menu-left">
                            <div class="icon-box" style="background:#f8f9fa; color:#636e72"><i class="fas fa-cog"></i></div>
                            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                        </div>
                        <i class="fas fa-chevron-left" style="color:#ccc;"></i>
                    </div>

                    <div style="height: 1px; background: #eee; margin: 10px 0;"></div>

                    <div class="menu-item red" onclick="logout()">
                        <div class="menu-left">
                            <div class="icon-box red"><i class="fas fa-sign-out-alt"></i></div>
                            <span style="color: #ef476f;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</span>
                        </div>
                        <i class="fas fa-chevron-left" style="color:#ccc;"></i>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <div class="nav-item">
            <i class="fas fa-home"></i>
            <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-compass"></i>
            <span>Ø§Ø³ØªÙƒØ´Ù</span>
        </div>
        <div class="nav-item active">
            <i class="fas fa-user"></i>
            <span>Ø­Ø³Ø§Ø¨ÙŠ</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-comment-dots"></i>
            <span>Ù…Ø­Ø§Ø¯Ø«Ø©</span>
        </div>
    </nav>

    <!-- Toast -->
    <div class="toast" id="toast">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø² Ø¨Ù†Ø¬Ø§Ø­!</div>

    <script>
        // --- 1. Data Loading ---
        let currentUserId = localStorage.getItem('tribly_user_id') || 401;
        
        const mockUsers = {
            401: { name: "Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ", handle: "ahmed_ali" },
            402: { name: "Ø³Ø§Ø±Ø© Ù…Ø­Ù…Ø¯", handle: "sara_m" },
            403: { name: "Karim E.", handle: "karim_eng" }
        };
        const defaultUser = { name: "Ziad K.", handle: "ziad_dev" };

        function initProfile() {
            let db = JSON.parse(localStorage.getItem('tribly_users'));
            let user = null;

            if(db) {
                user = db.find(u => u.id == currentUserId);
            }

            const userData = user ? { name: user.name, handle: user.name.toLowerCase().replace(/\s/g, '_') } : mockUsers[currentUserId] || defaultUser;

            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userHandle').textContent = `@${userData.handle} â€¢ Alexandria`;
            document.getElementById('userAvatar').src = `https://picsum.photos/seed/${userData.handle}/200/200`;
            
            document.querySelector('#referralCode span').textContent = `TRIBLY-${currentUserId}`;
        }

        // --- 2. Copy Function ---
        function copyCode() {
            const codeText = document.querySelector('#referralCode span').textContent;
            navigator.clipboard.writeText(codeText).then(() => {
                showToast(`ØªÙ… Ù†Ø³Ø® ${codeText}`);
            }).catch(err => console.error('Error', err));
        }

        // --- 3. Toast & Logout ---
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        function logout() {
            if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                localStorage.removeItem('tribly_user_id');
                window.location.href = 'index.html';
            }
        }

        document.addEventListener('DOMContentLoaded', initProfile);
    </script>
</body>
</html>