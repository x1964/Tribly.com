// ðŸŒ Global Translation System - i18n.js
const translations = {
  ar: {
    // Navigation
    'nav-how': 'ÙƒÙŠÙ ÙŠØ¹Ù…Ù„',
    'nav-about': 'Ø­ÙˆÙ„',
    'nav-app': 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',
    'nav-manifesto': 'Ø§Ù„Ø¨ÙŠØ§Ù†',
    'nav-join': 'Ø§Ù†Ø¶Ù…',
    'nav-login': 'Ø¯Ø®ÙˆÙ„',
    'nav-communities': 'Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª',
    'nav-contact': 'ØªÙˆØ§ØµÙ„',
    'nav-faq': 'Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©',
    'nav-support': 'Ø§Ù„Ø¯Ø¹Ù…',
    'nav-profile': 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ',
    
    // Hero
    'hero-title-1': 'Ø§Ø¨Ø­Ø« Ø¹Ù†',
    'hero-title-2': 'Ù‚Ø¨ÙŠÙ„ØªÙƒ',
    'hero-title-3': 'Ø£ÙŠÙ†Ù…Ø§ ÙƒÙ†Øª',
    'hero-desc': 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙˆØ§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø°ÙŠÙ† ØªÙ†Ø³Ø¬Ù… Ù…Ø¹Ù‡Ù… Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù†Ùƒ. Ø§ØªØµØ§Ù„Ùƒ Ø§Ù„Ø³Ø­Ø±ÙŠ Ø§Ù„ØªØ§Ù„ÙŠ Ø¹Ù„Ù‰ Ø¨Ø¹Ø¯ Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©.',
    'hero-login': 'Ø¯Ø®ÙˆÙ„',
    'hero-waitlist': 'Ø§Ù†Ø¶Ù… Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
    'hero-invite': 'Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙƒÙˆØ¯ Ø¯Ø¹ÙˆØ©ØŸ',
    
    // How It Works
    'how-title': 'ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ØŸ',
    'card-1-title': 'Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Tribly',
    'card-1-desc': 'Ø§Ø´ØªØ±Ùƒ ÙÙŠ Tribly ÙˆØ§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…Ø¬ØªÙ…Ø¹Ù†Ø§ Ø§Ù„Ù…ØªÙ†Ø§Ù…ÙŠ.',
    'card-2-title': 'Ø£Ù…Ù„Ø£ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ',
    'card-2-desc': 'Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¨Ù…Ø§ ØªØ­Ø¨ØŒ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø¨Ø§Ù‚ÙŠ.',
    'card-3-title': 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ§Øª',
    'card-3-desc': 'Ø³ÙŠÙ‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ Tribly AI Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ø§Ù„ØªÙŠ ØªÙ†Ø¶Ù… Ø¥Ù„ÙŠÙ‡Ø§ ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙŠ ØªØ³ØªÙ…ØªØ¹ Ø¨Ù‡Ø§ Ø´Ø®ØµÙŠØ§Ù‹',
    'card-4-title': 'Ø§Ù„ØªÙ‚Ø§Ø¨Ù„ ÙˆØ¬Ù‡Ø§Ù‹ Ù„ÙˆØ¬Ù‡',
    'card-4-desc': 'Ø§Ø®Ø±Ø¬ ÙˆØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø°ÙŠÙ† Ù†Ø­Ù† Ù…ØªØ£ÙƒØ¯ÙˆÙ† Ù…Ù† Ø£Ù†Ùƒ Ø³ØªÙ†Ø³Ø¬Ù… Ù…Ø¹Ù‡Ù….',
    'card-5-title': 'Ù‚ÙŠÙ‘Ù… ØªØ¬Ø±Ø¨ØªÙƒ',
    'card-5-desc': 'Ø³Ø§Ø¹Ø¯ Tribly AI ÙÙŠ ØªØ­Ø³ÙŠÙ† ØªÙˆØµÙŠØ§ØªÙ‡ ÙˆØ¬Ø¹Ù„ ÙƒÙ„ Ø§ØªØµØ§Ù„ Ø£ÙØ¶Ù„.',
    
    // Cities & Communities
    'cities-title': 'Ø§Ù„Ù…Ø¯Ù†',
    'cities-desc': '* ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Tribly Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù† ÙˆÙ„ÙƒÙ† Ù…ÙŠØ²Ø© Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø¡ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©ØŒ Ù…ØµØ± *',
    'trusted-title': 'Ù…ÙˆØ«ÙˆÙ‚ Ø¨Ù‡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª',
    
    // Auth Pages
    'login-title': 'Ø¯Ø®ÙˆÙ„',
    'login-desc': 'Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø¹ØªÙ…Ø§Ø¯Ùƒ Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ',
    'signup-title': 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨',
    'signup-desc': 'Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Tribly ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ',
    'email': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
    'password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
    'confirm-password': 'ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
    'submit': 'Ø¥Ø±Ø³Ø§Ù„',
    'remember-me': 'ØªØ°ÙƒØ±Ù†ÙŠ',
    'forgot-password': 'Ù‡Ù„ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ',
    'signup-link': 'Ù„Ø§ ØªÙ…Ù„Ùƒ Ø­Ø³Ø§Ø¨Ø§Ù‹ØŸ Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ø­Ø¯',
    'login-link': 'Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ Ø¯Ø®ÙˆÙ„',
    
    // About
    'about-title': 'Ø¹Ù† Tribly',
    'about-desc': 'Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ø¹Ù† Ù…Ù‡Ù…ØªÙ†Ø§ ÙˆØ±Ø¤ÙŠØªÙ†Ø§',
    
    // Contact
    'contact-title': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
    'contact-desc': 'Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„ØªÙƒ',
    'name': 'Ø§Ù„Ø§Ø³Ù…',
    'message': 'Ø§Ù„Ø±Ø³Ø§Ù„Ø©',
    'send': 'Ø¥Ø±Ø³Ø§Ù„',
    
    // FAQ
    'faq-title': 'Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©',
    'faq-desc': 'Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„ØªÙƒ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©',
    
    // Footer
    'footer-product': 'Ø§Ù„Ù…Ù†ØªØ¬',
    'footer-company': 'Ø§Ù„Ø´Ø±ÙƒØ©',
    'footer-support': 'Ø§Ù„Ø¯Ø¹Ù…',
    'footer-legal': 'Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ',
    'footer-home': 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
    'footer-blog': 'Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©',
    'footer-privacy': 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©',
    'footer-terms': 'Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©',
  },
  
  en: {
    // Navigation
    'nav-how': 'How It Works',
    'nav-about': 'About',
    'nav-app': 'Get The App',
    'nav-manifesto': 'Manifesto',
    'nav-join': 'Join',
    'nav-login': 'Login',
    'nav-communities': 'Communities',
    'nav-contact': 'Contact',
    'nav-faq': 'FAQ',
    'nav-support': 'Support',
    'nav-profile': 'Profile',
    
    // Hero
    'hero-title-1': 'Find Your',
    'hero-title-2': 'Tribe',
    'hero-title-3': 'Anywhere',
    'hero-desc': 'Find community and the people you click with closest to you. Your next magical connection is just a click away.',
    'hero-login': 'Login',
    'hero-waitlist': 'Join Waitlist',
    'hero-invite': 'Got An Invitation Code?',
    
    // How It Works
    'how-title': 'How Does It Work?',
    'card-1-title': 'Join Tribly',
    'card-1-desc': 'Subscribe to Tribly and join our growing community.',
    'card-2-title': 'Fill in your interests',
    'card-2-desc': 'Tell us what you love, and we\'ll do the rest.',
    'card-3-title': 'Get Recommendations',
    'card-3-desc': 'Tribly AI will suggest communities to join and activities to enjoy in person',
    'card-4-title': 'Meet IRL',
    'card-4-desc': 'Go out and connect with people we\'re sure you\'ll click with.',
    'card-5-title': 'Rate your Experience',
    'card-5-desc': 'Help Tribly AI improve its recommendations and make every connection even better.',
    
    // Cities & Communities
    'cities-title': 'cities',
    'cities-desc': '* You Can use Tribly from Anywhere but the meetup Feature is currently only available in Alexandria, Egypt*',
    'trusted-title': 'Trusted by communities',
    
    // Auth Pages
    'login-title': 'Login',
    'login-desc': 'Enter your credentials to login to your account',
    'signup-title': 'Sign Up',
    'signup-desc': 'Join Tribly and start your journey',
    'email': 'Email',
    'password': 'Password',
    'confirm-password': 'Confirm Password',
    'submit': 'Submit',
    'remember-me': 'Remember Me',
    'forgot-password': 'Forgot Password?',
    'signup-link': 'Don\'t have an account? Sign Up',
    'login-link': 'Already have an account? Login',
    
    // About
    'about-title': 'About Tribly',
    'about-desc': 'Discover more about our mission and vision',
    
    // Contact
    'contact-title': 'Contact Us',
    'contact-desc': 'We are here to answer your questions',
    'name': 'Name',
    'message': 'Message',
    'send': 'Send',
    
    // FAQ
    'faq-title': 'Frequently Asked Questions',
    'faq-desc': 'Answers to your common questions',
    
    // Footer
    'footer-product': 'Product',
    'footer-company': 'Company',
    'footer-support': 'Support',
    'footer-legal': 'Legal',
    'footer-home': 'Home',
    'footer-blog': 'Blog',
    'footer-privacy': 'Privacy Policy',
    'footer-terms': 'Terms of Service',
  },
  
  fr: {
    // Navigation
    'nav-how': 'Comment Ã§a marche',
    'nav-about': 'Ã€ propos',
    'nav-app': 'Obtenir l\'application',
    'nav-manifesto': 'Manifeste',
    'nav-join': 'Rejoindre',
    'nav-login': 'Connexion',
    'nav-communities': 'CommunautÃ©s',
    'nav-contact': 'Contact',
    'nav-faq': 'FAQ',
    'nav-support': 'Support',
    'nav-profile': 'Profil',
    
    // Hero
    'hero-title-1': 'Trouvez Votre',
    'hero-title-2': 'Tribu',
    'hero-title-3': 'N\'importe OÃ¹',
    'hero-desc': 'Trouvez une communautÃ© et les personnes avec lesquelles vous avez une affinitÃ© prÃ¨s de chez vous. Votre prochain contact magique n\'est qu\'Ã  un clic.',
    'hero-login': 'Connexion',
    'hero-waitlist': 'Rejoindre la liste d\'attente',
    'hero-invite': 'Avez-vous un code d\'invitation?',
    
    // How It Works
    'how-title': 'Comment Ã§a marche?',
    'card-1-title': 'Rejoignez Tribly',
    'card-1-desc': 'Abonnez-vous Ã  Tribly et rejoignez notre communautÃ© en croissance.',
    'card-2-title': 'Remplissez vos intÃ©rÃªts',
    'card-2-desc': 'Dites-nous ce que vous aimez, et nous ferons le reste.',
    'card-3-title': 'Obtenir les recommandations',
    'card-3-desc': 'L\'IA Tribly vous suggÃ©rera des communautÃ©s Ã  rejoindre et des activitÃ©s Ã  profiter en personne',
    'card-4-title': 'Se rencontrer en personne',
    'card-4-desc': 'Sortez et connectez-vous avec des personnes avec lesquelles nous sommes sÃ»rs que vous allez bien vous entendre.',
    'card-5-title': 'Ã‰valuez votre expÃ©rience',
    'card-5-desc': 'Aidez l\'IA Tribly Ã  amÃ©liorer ses recommandations et Ã  rendre chaque connexion encore meilleure.',
    
    // Cities & Communities
    'cities-title': 'Villes',
    'cities-desc': '* Vous pouvez utiliser Tribly de n\'importe oÃ¹, mais la fonctionnalitÃ© de rencontre est actuellement disponible uniquement Ã  Alexandrie, Ã‰gypte *',
    'trusted-title': 'ApprouvÃ© par les communautÃ©s',
    
    // Auth Pages
    'login-title': 'Connexion',
    'login-desc': 'Entrez vos identifiants pour vous connecter',
    'signup-title': 'S\'inscrire',
    'signup-desc': 'Rejoignez Tribly et commencez votre voyage',
    'email': 'Email',
    'password': 'Mot de passe',
    'confirm-password': 'Confirmer le mot de passe',
    'submit': 'Soumettre',
    'remember-me': 'Se souvenir de moi',
    'forgot-password': 'Mot de passe oubliÃ©?',
    'signup-link': 'Vous n\'avez pas de compte? S\'inscrire',
    'login-link': 'Vous avez dÃ©jÃ  un compte? Connexion',
    
    // About
    'about-title': 'Ã€ propos de Tribly',
    'about-desc': 'DÃ©couvrez plus sur notre mission et notre vision',
    
    // Contact
    'contact-title': 'Nous Contacter',
    'contact-desc': 'Nous sommes ici pour rÃ©pondre Ã  vos questions',
    'name': 'Nom',
    'message': 'Message',
    'send': 'Envoyer',
    
    // FAQ
    'faq-title': 'Questions FrÃ©quemment PosÃ©es',
    'faq-desc': 'RÃ©ponses Ã  vos questions courantes',
    
    // Footer
    'footer-product': 'Produit',
    'footer-company': 'Entreprise',
    'footer-support': 'Support',
    'footer-legal': 'Juridique',
    'footer-home': 'Accueil',
    'footer-blog': 'Blog',
    'footer-privacy': 'Politique de ConfidentialitÃ©',
    'footer-terms': 'Conditions d\'Utilisation',
  }
};

// Function to get translation
function t(key, lang = null) {
  const currentLang = lang || localStorage.getItem('language') || 'ar';
  return translations[currentLang]?.[key] || key;
}

// Initialize language switcher and apply translations
document.addEventListener('DOMContentLoaded', () => {
  const langToggle = document.querySelector('.lang-toggle');
  const langDropdown = document.getElementById('langDropdown');
  const langOptions = document.querySelectorAll('.lang-option');
  const currentLangSpan = document.getElementById('currentLang');
  
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ù† localStorage
  const savedLang = localStorage.getItem('language') || 'ar';
  changeLanguage(savedLang);
  
  // Toggle dropdown Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±
  if (langToggle) {
    langToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      langDropdown.style.display = langDropdown.style.display === 'none' ? 'block' : 'none';
    });
  }
  
  // Ø¥ØºÙ„Ø§Ù‚ dropdown Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡
  document.addEventListener('click', (e) => {
    if (!e.target.closest('#languageSwitcher')) {
      if (langDropdown) {
        langDropdown.style.display = 'none';
      }
    }
  });
  
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©
  langOptions.forEach(option => {
    option.addEventListener('click', () => {
      const lang = option.getAttribute('data-lang');
      localStorage.setItem('language', lang);
      changeLanguage(lang);
      if (langDropdown) {
        langDropdown.style.display = 'none';
      }
    });
    
    // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ±
    option.addEventListener('mouseover', () => {
      option.style.background = '#6ae44d';
      option.style.color = '#000';
    });
    
    option.addEventListener('mouseout', () => {
      const lang = option.getAttribute('data-lang');
      if (localStorage.getItem('language') === lang) {
        option.style.background = '#f5f5f5';
      } else {
        option.style.background = '#fff';
      }
      option.style.color = '#000';
    });
  });
  
  function changeLanguage(lang) {
    const html = document.documentElement;
    html.lang = lang;
    html.dir = lang === 'ar' ? 'rtl' : 'ltr';
    
    // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
    const langNames = {
      ar: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
      en: 'English',
      fr: 'FranÃ§ais'
    };
    if (currentLangSpan) {
      currentLangSpan.textContent = langNames[lang];
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø®Ù„ÙÙŠØ© Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù†Ø´Ø·
    langOptions.forEach(option => {
      if (option.getAttribute('data-lang') === lang) {
        option.style.background = '#f5f5f5';
      } else {
        option.style.background = '#fff';
      }
    });
    
    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      el.textContent = t(key, lang);
    });
  }
});
